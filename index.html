<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>App de Treino - Marlon Prado</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <h1>Treino ABCD - Marlon Prado</h1>

    <div class="tabs">
      <button class="tab active" onclick="selectTreino(0)">Treino A</button>
      <button class="tab" onclick="selectTreino(1)">Treino B</button>
      <button class="tab" onclick="selectTreino(2)">Treino C</button>
      <button class="tab" onclick="selectTreino(3)">Treino D</button>
      <button class="tab" onclick="selectTreino(4)">Treino E</button>
    </div>

    <div id="treinos"></div>

    <div class="timer" id="timer">
      <button class="timer-toggle" onclick="toggleTimer()">⏱️</button>
      <div class="name-timer"><p>Timer de Descanso: <span id="tempo">00:00</span></p></div>
      <button onclick="startPauseTimer()">Iniciar</button>
      <button onclick="resetTimer()">Zerar</button>
    </div>

    <script>
      const ficha = [
        {
          titulo: "Treino A ",
          exercicios: [
            `Panturrilha em pé
            Progressão de carga e drop
             Séries: *(1x 15–20)  *(1x 10–15) *(1x 8–12)  *(1x 6–10 + 2 drop)
             Intervalo: 1 min`,

            `Panturrilha sentada
            Pico de contração de 2 segundos e rest pause
             Séries: *(1x10–15) *(1x8–12) *(1x6–10 + 2 rest pause)
             Intervalo: 1 min`,

            `Supino inclinado (smith ou máquina)
            Progressão de carga e strip set com mudança de velocidade de contração
             Séries: *(3x15–20) *(1x10–15) *(3x8–12) *(4x6–10 + strip set)
             Intervalo: 2-3 min entre as séries`,

            `Supino reto com halteres
            Progressão de carga e drop
             Séries: *(3x10–15) *(3x8–12) *(1x6–10 + 2 drop)
             Intervalo: 1–2 min `,

            `Supino inclinado com halteres + Crucifixo inclinado com halteres
            Bi-set
             Séries: *(3x8–12)
             Intervalo: 60 seg `,

            `Supino declinado
             Séries: *(3x 8-12)
             Intervalo: 45 seg `,

            `Voador
            FST-7
             Séries: *(7x 10–15)
             Intervalo: 45 seg `,

            `Tríceps corda
            Progressão de carga e drop
             Séries: *(1x 10-15)*(1x 8-12)*(1x 6-10 + 2 drop)
             Intervalo: 1 min `,

            `Tríceps testa
            Repetições parciais apos a falha
             Séries: *(3x 8-12) + parciais após a falha
             Intervalo: 1 min `,
          ],
        },
        {
          titulo: "Treino B ",
          exercicios: [
            `Abdominal supra na prancha
Séries: 3x RM (máximo de repetições possíveis)
Intervalo: 45 seg `,

            `Abdominal infra na torre
Séries: 3x RM
Intervalo: 45 seg `,

            `Remada curvada pronada
Séries: 1x10–15, 1x8–12, 1x6–10
Intervalo: 2–3 min
Observação: Pico de contração de 2 seg `,

            `Remada baixa pegada aberta
Séries: 1x10–15, 1x8–12, 1x6–10
Intervalo: 2–3 min
Observação: Pico de contração de 2 seg`,

            `Serrote (remada unilateral)
Séries: 3x8–12
Observação: Pico de contração de 2 seg `,

            `Pulley frente pegada aberta
Séries: 1x10–15, 1x8–12, 1x6–10 + 2 drop
Intervalo: 90 seg
Observação: Pico de contração de 2 seg no drop`,

            `Pulley frente supinado
Séries: 5x8–12
Intervalo: 45 seg
Observação: Pico de contração de 2 seg `,

            `Meio terra (rack pull)
Séries: 1x10–15, 1x8–12, 1x6–10
Intervalo: 2–3 min `,

            `Lombar no banco romano
Séries: 5x12
Intervalo: 45 seg `,

            `Rosca Scott (máquina ou cross)
Séries: 5x12
Intervalo: 45 seg
Observação: Pico de contração de 2 seg `,
          ],
        },
        {
          titulo: "Treino C ",
          exercicios: [` `, ` `, ` `, ` `, ` `, ` `, ` `, ` `],
        },
        {
          titulo: "Treino D ",
          exercicios: [` `, ` `, ` `, ` `, ` `, ` `, ` `, ` `],
        },
        {
          titulo: "Treino E ",
          exercicios: [` `, ` `, ` `, ` `, ` `, ` `, ` `, ` `],
        },
      ];

      const treinosEl = document.getElementById("treinos");
      let diaAtual = 0;
      let timerInterval = null;
      let isTimerRunning = false;
      let tempoTotal = 0;

      function renderTreinos() {
        treinosEl.innerHTML = "";
        ficha.forEach((dia, index) => {
          const card = document.createElement("div");
          card.className = "card" + (index === diaAtual ? " active" : "");
          const titulo = document.createElement("h2");
          titulo.innerText = dia.titulo;
          const ul = document.createElement("ul");
          dia.exercicios.forEach((ex, idx) => {
            const li = document.createElement("li");
            li.innerText = ex;
            li.onclick = () => {
              li.classList.toggle("feito");
              salvarEstado();
            };
            if (estaFeito(dia.titulo, idx)) li.classList.add("feito");
            ul.appendChild(li);
          });
          card.appendChild(titulo);
          card.appendChild(ul);
          treinosEl.appendChild(card);
        });

        // Atualizar estado das abas
        document.querySelectorAll(".tab").forEach((tab, index) => {
          tab.classList.toggle("active", index === diaAtual);
        });
      }

      function selectTreino(index) {
        diaAtual = index;
        renderTreinos();
      }

      function salvarEstado() {
        const data = {};
        document.querySelectorAll(".card").forEach((card, diaIndex) => {
          const key = ficha[diaIndex].titulo;
          data[key] = [];
          card.querySelectorAll("li").forEach((li, i) => {
            data[key][i] = li.classList.contains("feito");
          });
        });
        localStorage.setItem("progressoTreino", JSON.stringify(data));
      }

      function estaFeito(titulo, index) {
        const data = JSON.parse(localStorage.getItem("progressoTreino")) || {};
        return data[titulo]?.[index];
      }

      function formatTime(seconds) {
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
      }

      function startPauseTimer() {
        const button = document.querySelector('button[onclick="startPauseTimer()"]');
        if (isTimerRunning) {
          clearInterval(timerInterval);
          isTimerRunning = false;
          button.textContent = "Iniciar";
        } else {
          isTimerRunning = true;
          button.textContent = "Pausar";
          timerInterval = setInterval(() => {
            tempoTotal++;
            document.getElementById("tempo").textContent = formatTime(tempoTotal);
          }, 1000);
        }
      }

      function resetTimer() {
        clearInterval(timerInterval);
        isTimerRunning = false;
        tempoTotal = 0;
        document.getElementById("tempo").textContent = formatTime(tempoTotal);
        document.querySelector('button[onclick="startPauseTimer()"]').textContent = "Iniciar";
      }

      function toggleTimer() {
        const timer = document.getElementById("timer");
        timer.classList.toggle("retraido");
        const toggleButton = timer.querySelector(".timer-toggle");
        toggleButton.textContent = timer.classList.contains("retraido") ? "⏱️►" : "⏱️◄";
      }

      renderTreinos();
    </script>
  </body>
</html>